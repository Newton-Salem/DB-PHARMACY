@page
@model PHARMACY.Pages.Pharmacist.CustomerFeedback.IndexModel
@{
    ViewData["Title"] = "Customer Feedback";
}

<style>
    /* ===== Ultra Premium Feedback ===== */
    .feedback-card {
        border: none;
        border-radius: 22px;
        background: linear-gradient(135deg, #ffffff 0%, #f4f7ff 100%);
        box-shadow: 0 12px 30px rgba(13,110,253,.12);
        transition: all .35s ease;
        position: relative;
        overflow: hidden;
        animation: rise .6s ease;
    }

        .feedback-card::before {
            content: "";
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(13,110,253,.06), rgba(102,126,234,.04));
            opacity: 0;
            transition: opacity .35s ease;
        }

        .feedback-card:hover::before {
            opacity: 1;
        }

        .feedback-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 22px 55px rgba(13,110,253,.25);
        }

    @@keyframes rise {
        from

    {
        opacity: 0;
        transform: translateY(20px) scale(.98);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }

    }

    /* Header */
    .feedback-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 14px 18px;
    }

    .order-pill {
        background: linear-gradient(135deg, #0d6efd, #5b8cff);
        color: #fff;
        padding: 6px 14px;
        border-radius: 50px;
        font-size: 13px;
        font-weight: 600;
        box-shadow: 0 6px 18px rgba(13,110,253,.35);
    }

    /* Avatar */
    .avatar {
        width: 52px;
        height: 52px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea, #764ba2);
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
        font-weight: 700;
        font-size: 20px;
        box-shadow: 0 6px 20px rgba(118,75,162,.45);
    }

    /* Feedback bubble */
    .feedback-bubble {
        background: #ffffff;
        border-radius: 18px;
        padding: 14px 16px;
        font-size: 15px;
        line-height: 1.6;
        box-shadow: inset 0 0 0 1px rgba(0,0,0,.04);
        position: relative;
    }

        .feedback-bubble::before {
            content: "“";
            position: absolute;
            top: -10px;
            left: 10px;
            font-size: 48px;
            color: rgba(13,110,253,.15);
            font-family: serif;
        }

    /* Footer */
    .feedback-footer {
        padding: 10px 18px 16px;
        text-align: right;
        font-size: 12px;
        color: #6c757d;
    }
</style>

<div class="container mt-4">
    <h2 class="mb-4 text-center fw-bold">
        💬 Customer Feedback
    </h2>

    @if (!Model.Feedbacks.Any())
    {
        <div class="alert alert-info text-center">
            No feedbacks have been submitted yet.
        </div>
    }
    else
    {
        <div class="row g-4">
            @foreach (var f in Model.Feedbacks)
            {
                <div class="col-md-6 col-lg-4">

                    <div class="card feedback-card h-100">

                        <!-- Header -->
                        <div class="feedback-header">
                            <span class="order-pill">
                                Order #@f.OrderID
                            </span>
                            <small class="text-muted">
                                <i class="bi bi-clock"></i>
                                @f.Date.ToString("dd MMM yyyy")
                            </small>
                        </div>

                        <!-- Body -->
                        <div class="card-body pt-0">

                            <div class="d-flex align-items-center mb-3">
                                <div class="avatar me-3">
                                    @f.CustomerName.FirstOrDefault()
                                </div>
                                <div>
                                    <div class="fw-semibold">@f.CustomerName</div>
                                    <small class="text-muted">Customer</small>
                                </div>
                            </div>

                            <div class="feedback-bubble">
                                @f.FeedbackText
                            </div>

                        </div>

                        <!-- Footer -->
                        <div class="feedback-footer">
                            <i class="bi bi-chat-left-quote"></i> Feedback
                        </div>

                    </div>

                </div>
            }
        </div>
    }
</div>
